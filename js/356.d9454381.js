"use strict";(self["webpackChunkrecord_app"]=self["webpackChunkrecord_app"]||[]).push([[356],{130:(e,t,n)=>{n.d(t,{XZ:()=>d,uJ:()=>u,Zz:()=>s,Tk:()=>c,AA:()=>f});var o=n(7201),l=function(e,t,n,o){function l(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,r){function i(e){try{d(o.next(e))}catch(t){r(t)}}function a(e){try{d(o["throw"](e))}catch(t){r(t)}}function d(e){e.done?n(e.value):l(e.value).then(i,a)}d((o=o.apply(e,t||[])).next())}))};const r=11921;let i;function a(){return i=(0,o.X3)("sound-memos",r,{upgrade(e){const t=e;t.createObjectStore("sound-db",{keyPath:"id"})},blocked(){},blocking(){},terminated(){}}),i}function d(){return l(this,void 0,void 0,(function*(){return a()}))}function u(e){return l(this,void 0,void 0,(function*(){return(yield i).put("sound-db",e)}))}function c(){return l(this,void 0,void 0,(function*(){return(yield i).getAll("sound-db")}))}function s(e){return l(this,void 0,void 0,(function*(){return(yield i).get("sound-db",e)}))}function f(e){return l(this,void 0,void 0,(function*(){return(yield i).delete("sound-db",e)}))}},5356:(e,t,n)=>{n.r(t),n.d(t,{default:()=>H});var o=n(3673),l=n(2323);const r=(0,o.Uk)(" Sound Memos "),i={target:"_blank",href:"https://github.com/HieuNguyenVu/soundmemos-vuejs"},a=(0,o._)("span",null,"All your records",-1);function d(e,t,n,d,u,c){const s=(0,o.up)("q-btn"),f=(0,o.up)("q-toolbar-title"),b=(0,o.up)("q-toolbar"),m=(0,o.up)("q-header"),p=(0,o.up)("q-item-label"),w=(0,o.up)("ListSoundItem"),h=(0,o.up)("q-list"),v=(0,o.up)("q-drawer"),g=(0,o.up)("router-view"),y=(0,o.up)("q-page-container"),S=(0,o.up)("q-layout");return(0,o.wg)(),(0,o.j4)(S,{view:"lHh Lpr lFf",style:{cursor:"default"}},{default:(0,o.w5)((()=>[(0,o.Wm)(m,{elevated:""},{default:(0,o.w5)((()=>[(0,o.Wm)(b,null,{default:(0,o.w5)((()=>[(0,o.Wm)(s,{flat:"",dense:"",round:"",icon:"menu","aria-label":"Menu",onClick:e.toggleLeftDrawer},null,8,["onClick"]),(0,o.Wm)(f,null,{default:(0,o.w5)((()=>[r])),_:1}),(0,o._)("a",i,"v."+(0,l.zw)(e.version),1)])),_:1})])),_:1}),(0,o.Wm)(v,{modelValue:e.leftDrawerOpen,"onUpdate:modelValue":t[0]||(t[0]=t=>e.leftDrawerOpen=t),"show-if-above":"",bordered:""},{default:(0,o.w5)((()=>[(0,o.Wm)(h,{id:"all-your-record-wrapper"},{default:(0,o.w5)((()=>[(0,o.Wm)(p,{header:"",id:"all-your-record-header"},{default:(0,o.w5)((()=>[a,(0,o.Wm)(s,{class:"record-btn",size:"md",unelevated:"",icon:"system_update_alt",onClick:e.downloadAll},null,8,["onClick"])])),_:1}),(0,o._)("div",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.listSound,(t=>((0,o.wg)(),(0,o.j4)(w,(0,o.dG)({key:t.name},t,{onSelected:e.selectedSoundMemos,onDownloadSound:e.downloadSound}),null,16,["onSelected","onDownloadSound"])))),128))]),(0,o.Wm)(p,{footer:"",id:"footer-wrapper"},{default:(0,o.w5)((()=>[(0,o.Wm)(s,{color:"black",icon:"delete",label:"Delete",unelevated:"",onClick:e.deleteASound},null,8,["onClick"]),(0,o.Wm)(s,{color:"red",icon:"add",label:"Add New",unelevated:"",onClick:e.createNewRecord},null,8,["onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,o.Wm)(y,null,{default:(0,o.w5)((()=>[(0,o.Wm)(g)])),_:1})])),_:1})}const u={style:{display:"inline-block",width:"50%"}},c={style:{display:"inline-block",width:"50%","text-align":"right"}};function s(e,t,n,r,i,a){const d=(0,o.up)("q-btn"),s=(0,o.up)("q-item-section"),f=(0,o.up)("q-item-label"),b=(0,o.up)("q-item");return(0,o.wg)(),(0,o.j4)(b,{tag:"a",target:"_blank",onClick:e.selectAnItem,style:(0,l.j5)(e.selected?{backgroundColor:"#bce5f2"}:""),select:e.selected},{default:(0,o.w5)((()=>[(0,o.Wm)(s,{avatar:"",class:"sound-item"},{default:(0,o.w5)((()=>[(0,o.Wm)(d,{size:"md",unelevated:"",flat:"",color:"#757575",round:"",icon:e.actionIcon,onClick:e.downloadSound},null,8,["icon","onClick"])])),_:1}),(0,o.Wm)(s,null,{default:(0,o.w5)((()=>[(0,o.Wm)(f,null,{default:(0,o.w5)((()=>[(0,o.Uk)((0,l.zw)(e.name),1)])),_:1}),(0,o.Wm)(f,{caption:"",style:{height:"1rem"}},{default:(0,o.w5)((()=>[(0,o._)("div",u,(0,l.zw)(e.timestampToDate(e.date)),1),(0,o._)("div",c,(0,l.zw)(e.time),1)])),_:1})])),_:1})])),_:1},8,["onClick","style","select"])}var f=n(5777),b=function(e,t,n,o){var l,r=arguments.length,i=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(l=e[a])&&(i=(r<3?l(i):r>3?l(t,n,i):l(t,n))||i);return r>3&&i&&Object.defineProperty(t,n,i),i};class m{constructor(){Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:(0,f.vg)({default:"#"})}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:(0,f.vg)({default:"sound_memos"})}),Object.defineProperty(this,"selected",{enumerable:!0,configurable:!0,writable:!0,value:(0,f.vg)({default:!1})}),Object.defineProperty(this,"date",{enumerable:!0,configurable:!0,writable:!0,value:(0,f.vg)({default:0})}),Object.defineProperty(this,"time",{enumerable:!0,configurable:!0,writable:!0,value:(0,f.vg)({default:"#"})})}}let p=class extends(f.w3["with"](m)){constructor(){super(...arguments),Object.defineProperty(this,"actionIcon",{enumerable:!0,configurable:!0,writable:!0,value:"download"})}selectAnItem(){this.$emit("selected",this.id)}downloadSound(e){this.$emit("downloadSound",this.id),e.stopImmediatePropagation()}timestampToDate(e){return new Date(e).toISOString().substring(0,10)}};p=b([(0,f.Ei)({})],p);const w=p;var h=n(3414),v=n(2035),g=n(522),y=n(2350),S=n(7518),k=n.n(S);w.render=s;const _=w;k()(w,"components",{QItem:h.Z,QItemSection:v.Z,QBtn:g.Z,QItemLabel:y.Z});var O=n(3892),j=n.n(O),A=n(3139),C=n.n(A),D=n(4640),W=n(130),P=function(e,t,n,o){var l,r=arguments.length,i=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(l=e[a])&&(i=(r<3?l(i):r>3?l(t,n,i):l(t,n))||i);return r>3&&i&&Object.defineProperty(t,n,i),i};const I=11921;let Z=class extends f.w3{constructor(){super(...arguments),Object.defineProperty(this,"leftDrawerOpen",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:I}),Object.defineProperty(this,"listSound",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"selectedId",{enumerable:!0,configurable:!0,writable:!0,value:""})}mounted(){this.updateSoundList(),D.emitter.on("LIST_CHANGE",(()=>{this.updateSoundList()}))}toggleLeftDrawer(){this.leftDrawerOpen=!this.leftDrawerOpen,D.emitter.emit("TAB_CHANGE",this.leftDrawerOpen)}selectedSoundMemos(e){this.listSound.forEach((t=>{t.id===e?(t.selected=!0,this.selectedId=e,D.emitter.emit("SELECT_SOUND",t.id)):t.selected=!1}))}downloadSound(e){console.log("downloadSound",e),(0,W.Zz)(e).then((e=>{C().saveAs(e.blob,`${e.name}.wav`)}))}updateSoundList(){(0,W.Tk)().then((e=>{this.listSound=e,console.log(this.listSound[0])}))}downloadAll(){console.log("downloadAll"),(0,W.Tk)().then((e=>{const t=new(j());e.forEach(((e,n)=>{t.file(`${n}.${e.name}.wav`,e.blob)})),t.generateAsync({type:"blob"}).then((function(e){C().saveAs(e,"download.zip")}))}))}deleteASound(){(0,W.AA)(this.selectedId).then((()=>{this.updateSoundList()}))}createNewRecord(){D.emitter.emit("CREATE_NEW",!0),this.listSound.forEach((e=>{e.selected=!1}))}};Z=P([(0,f.Ei)({components:{ListSoundItem:_}})],Z);const L=Z;var q=n(3066),Q=n(3812),E=n(9570),T=n(3747),z=n(3949),R=n(7011),N=n(2652);L.render=d;const H=L;k()(L,"components",{QLayout:q.Z,QHeader:Q.Z,QToolbar:E.Z,QBtn:g.Z,QToolbarTitle:T.Z,QDrawer:z.Z,QList:R.Z,QItemLabel:y.Z,QPageContainer:N.Z})}}]);