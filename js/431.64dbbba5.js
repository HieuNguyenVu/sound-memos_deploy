"use strict";(self["webpackChunkrecord_app"]=self["webpackChunkrecord_app"]||[]).push([[431],{130:(e,t,n)=>{n.d(t,{XZ:()=>d,uJ:()=>u,Zz:()=>s,Tk:()=>c,AA:()=>f});var o=n(7201),l=function(e,t,n,o){function l(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,r){function a(e){try{d(o.next(e))}catch(t){r(t)}}function i(e){try{d(o["throw"](e))}catch(t){r(t)}}function d(e){e.done?n(e.value):l(e.value).then(a,i)}d((o=o.apply(e,t||[])).next())}))};const r=11921;let a;function i(){return a=(0,o.X3)("sound-memos",r,{upgrade(e){const t=e;t.createObjectStore("sound-db",{keyPath:"id"})},blocked(){},blocking(){},terminated(){}}),a}function d(){return l(this,void 0,void 0,(function*(){return i()}))}function u(e){return l(this,void 0,void 0,(function*(){return(yield a).put("sound-db",e)}))}function c(){return l(this,void 0,void 0,(function*(){return(yield a).getAll("sound-db")}))}function s(e){return l(this,void 0,void 0,(function*(){return(yield a).get("sound-db",e)}))}function f(e){return l(this,void 0,void 0,(function*(){return(yield a).delete("sound-db",e)}))}},6431:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Y});var o=n(3673),l=n(2323);const r=(0,o.Uk)(" Sound Memos "),a={target:"_blank",href:"https://github.com/HieuNguyenVu/soundmemos-vuejs"},i=(0,o._)("span",null,"All your records",-1),d=(0,o._)("span",{class:"q-ml-sm"},"Turn off your ads block please...",-1);function u(e,t,n,u,c,s){const f=(0,o.up)("q-btn"),m=(0,o.up)("q-toolbar-title"),p=(0,o.up)("q-toolbar"),b=(0,o.up)("q-header"),w=(0,o.up)("q-item-label"),h=(0,o.up)("ListSoundItem"),v=(0,o.up)("q-list"),g=(0,o.up)("q-drawer"),y=(0,o.up)("router-view"),k=(0,o.up)("q-page-container"),_=(0,o.up)("q-layout"),S=(0,o.up)("q-avatar"),A=(0,o.up)("q-card-section"),C=(0,o.up)("q-card-actions"),O=(0,o.up)("q-card"),W=(0,o.up)("q-dialog"),j=(0,o.Q2)("close-popup");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(_,{view:"lHh Lpr lFf",style:{cursor:"default"}},{default:(0,o.w5)((()=>[(0,o.Wm)(b,{elevated:""},{default:(0,o.w5)((()=>[(0,o.Wm)(p,null,{default:(0,o.w5)((()=>[(0,o.Wm)(f,{flat:"",dense:"",round:"",icon:"menu","aria-label":"Menu",onClick:e.toggleLeftDrawer},null,8,["onClick"]),(0,o.Wm)(m,null,{default:(0,o.w5)((()=>[r])),_:1}),(0,o._)("a",a,"v."+(0,l.zw)(e.version),1)])),_:1})])),_:1}),(0,o.Wm)(g,{modelValue:e.leftDrawerOpen,"onUpdate:modelValue":t[0]||(t[0]=t=>e.leftDrawerOpen=t),"show-if-above":"",bordered:""},{default:(0,o.w5)((()=>[(0,o.Wm)(v,{id:"all-your-record-wrapper"},{default:(0,o.w5)((()=>[(0,o.Wm)(w,{header:"",id:"all-your-record-header"},{default:(0,o.w5)((()=>[i,(0,o.Wm)(f,{class:"record-btn",size:"md",unelevated:"",icon:"system_update_alt",onClick:e.downloadAll},null,8,["onClick"])])),_:1}),(0,o._)("div",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.listSound,(t=>((0,o.wg)(),(0,o.j4)(h,(0,o.dG)({key:t.name},t,{onSelected:e.selectedSoundMemos,onDownloadSound:e.downloadSound}),null,16,["onSelected","onDownloadSound"])))),128))]),(0,o.Wm)(w,{footer:"",id:"footer-wrapper"},{default:(0,o.w5)((()=>[(0,o.Wm)(f,{color:"black",icon:"delete",label:"Delete",unelevated:"",onClick:e.deleteASound},null,8,["onClick"]),(0,o.Wm)(f,{color:"red",icon:"add",label:"Add New",unelevated:"",onClick:e.createNewRecord},null,8,["onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,o.Wm)(k,null,{default:(0,o.w5)((()=>[(0,o.Wm)(y)])),_:1})])),_:1}),(0,o.Wm)(W,{modelValue:e.confirm,"onUpdate:modelValue":t[1]||(t[1]=t=>e.confirm=t),persistent:""},{default:(0,o.w5)((()=>[(0,o.Wm)(O,null,{default:(0,o.w5)((()=>[(0,o.Wm)(A,{class:"row items-center"},{default:(0,o.w5)((()=>[(0,o.Wm)(S,{icon:"strikethrough_s",color:"primary","text-color":"white"}),d])),_:1}),(0,o.Wm)(C,{align:"right"},{default:(0,o.w5)((()=>[(0,o.wy)((0,o.Wm)(f,{flat:"",label:"Ok",color:"primary",onClick:e.checkAdsBlock},null,8,["onClick"]),[[j]]),(0,o.wy)((0,o.Wm)(f,{flat:"",label:"Yes",color:"primary",onClick:e.checkAdsBlock},null,8,["onClick"]),[[j]])])),_:1})])),_:1})])),_:1},8,["modelValue"])],64)}const c={style:{display:"inline-block",width:"50%"}},s={style:{display:"inline-block",width:"50%","text-align":"right"}};function f(e,t,n,r,a,i){const d=(0,o.up)("q-btn"),u=(0,o.up)("q-item-section"),f=(0,o.up)("q-item-label"),m=(0,o.up)("q-item");return(0,o.wg)(),(0,o.j4)(m,{tag:"a",target:"_blank",onClick:e.selectAnItem,style:(0,l.j5)(e.selected?{backgroundColor:"#bce5f2"}:""),select:e.selected},{default:(0,o.w5)((()=>[(0,o.Wm)(u,{avatar:"",class:"sound-item"},{default:(0,o.w5)((()=>[(0,o.Wm)(d,{size:"md",unelevated:"",flat:"",color:"#757575",round:"",icon:e.actionIcon,onClick:e.downloadSound},null,8,["icon","onClick"])])),_:1}),(0,o.Wm)(u,null,{default:(0,o.w5)((()=>[(0,o.Wm)(f,null,{default:(0,o.w5)((()=>[(0,o.Uk)((0,l.zw)(e.name),1)])),_:1}),(0,o.Wm)(f,{caption:"",style:{height:"1rem"}},{default:(0,o.w5)((()=>[(0,o._)("div",c,(0,l.zw)(e.timestampToDate(e.date)),1),(0,o._)("div",s,(0,l.zw)(e.time),1)])),_:1})])),_:1})])),_:1},8,["onClick","style","select"])}var m=n(5777),p=function(e,t,n,o){var l,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var i=e.length-1;i>=0;i--)(l=e[i])&&(a=(r<3?l(a):r>3?l(t,n,a):l(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};class b{constructor(){Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:(0,m.vg)({default:"#"})}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:(0,m.vg)({default:"sound_memos"})}),Object.defineProperty(this,"selected",{enumerable:!0,configurable:!0,writable:!0,value:(0,m.vg)({default:!1})}),Object.defineProperty(this,"date",{enumerable:!0,configurable:!0,writable:!0,value:(0,m.vg)({default:0})}),Object.defineProperty(this,"time",{enumerable:!0,configurable:!0,writable:!0,value:(0,m.vg)({default:"#"})})}}let w=class extends(m.w3["with"](b)){constructor(){super(...arguments),Object.defineProperty(this,"actionIcon",{enumerable:!0,configurable:!0,writable:!0,value:"download"})}selectAnItem(){this.$emit("selected",this.id)}downloadSound(e){this.$emit("downloadSound",this.id),e.stopImmediatePropagation()}timestampToDate(e){return new Date(e).toISOString().substring(0,10)}};w=p([(0,m.Ei)({})],w);const h=w;var v=n(3414),g=n(2035),y=n(6114),k=n(2350),_=n(7518),S=n.n(_);h.render=f;const A=h;S()(h,"components",{QItem:v.Z,QItemSection:g.Z,QBtn:y.Z,QItemLabel:k.Z});var C=n(3892),O=n.n(C),W=n(3139),j=n.n(W),Z=n(4640),D=n(130),P=n(4431),q=function(e,t,n,o){var l,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var i=e.length-1;i>=0;i--)(l=e[i])&&(a=(r<3?l(a):r>3?l(t,n,a):l(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};const Q=11921;let I=class extends m.w3{constructor(){super(...arguments),Object.defineProperty(this,"leftDrawerOpen",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:Q}),Object.defineProperty(this,"listSound",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"selectedId",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"confirm",{enumerable:!0,configurable:!0,writable:!0,value:!1})}mounted(){this.updateSoundList(),Z.emitter.on("LIST_CHANGE",(()=>{this.updateSoundList()})),(0,P.detectAnyAdblocker)().then((e=>{e&&(this.confirm=!0)}))}checkAdsBlock(){window.location.reload()}toggleLeftDrawer(){this.leftDrawerOpen=!this.leftDrawerOpen,Z.emitter.emit("TAB_CHANGE",this.leftDrawerOpen)}selectedSoundMemos(e){this.listSound.forEach((t=>{t.id===e?(t.selected=!0,this.selectedId=e,Z.emitter.emit("SELECT_SOUND",t.id)):t.selected=!1}))}downloadSound(e){console.log("downloadSound",e),(0,D.Zz)(e).then((e=>{j().saveAs(e.blob,`${e.name}.wav`)}))}updateSoundList(){(0,D.Tk)().then((e=>{this.listSound=e,console.log(this.listSound[0])}))}downloadAll(){console.log("downloadAll"),(0,D.Tk)().then((e=>{const t=new(O());e.forEach(((e,n)=>{t.file(`${n}.${e.name}.wav`,e.blob)})),t.generateAsync({type:"blob"}).then((function(e){j().saveAs(e,"download.zip")}))}))}deleteASound(){(0,D.AA)(this.selectedId).then((()=>{this.updateSoundList()}))}createNewRecord(){Z.emitter.emit("CREATE_NEW",!0),this.listSound.forEach((e=>{e.selected=!1}))}};I=q([(0,m.Ei)({components:{ListSoundItem:A}})],I);const L=I;var T=n(3066),E=n(3812),z=n(9570),R=n(3747),N=n(7317),H=n(7011),V=n(2652),x=n(5548),B=n(151),U=n(5589),$=n(5096),M=n(9367),G=n(677);L.render=u;const Y=L;S()(L,"components",{QLayout:T.Z,QHeader:E.Z,QToolbar:z.Z,QBtn:y.Z,QToolbarTitle:R.Z,QDrawer:N.Z,QList:H.Z,QItemLabel:k.Z,QPageContainer:V.Z,QDialog:x.Z,QCard:B.Z,QCardSection:U.Z,QAvatar:$.Z,QCardActions:M.Z}),S()(L,"directives",{ClosePopup:G.Z})}}]);